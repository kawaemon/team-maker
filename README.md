## group-maker

グループを作る LINE Bot です。


### 使い方
```
> 男子3グループ作成
  男子だけで3グループ作成して送信します
  
> 女子3グループ作成
  女子だけで3グループ作成して送信します
  
> 3グループ作成
  全員で3グループ作成して送信します
  
> 10人で4グループ作成
  10人で4グループ作成して送信します。名前は表示されず連番で表示されます。
```
<details>
  <summary>下記の設定例で実際に動いている様子</summary>
  
  ![](https://imgur.com/dDO0J5r.png)
</details>


### デプロイ
1. 次のような設定用の json ファイルを環境変数`GROUP_MAKER_CONF_JSON`にbase64エンコードして設定します。

```js
{
  "names": {
    // 連番: 名前
    // ここに名前のない番号は N番 のように表示されます
    "1": "加藤",
    "2": "山田",
    "3": "佐藤",
    "4": "鈴木"
  },
  // デフォルトの全体人数
  "total": 4,
  // 女子の番号
  "women": [1, 3]
}
```

1. 環境変数`LINE_CHANNEL_ACCESS_TOKEN`に LINE のチャンネルアクセストークンを入れます。
1. 環境変数`LINE_CHANNEL_SECRET`に LINE のチャンネルシークレットを入れます。
1. Webhook をサーブするポートはデフォルトで8080番になっていますが、変更したい場合は環境変数`PORT`に入れます。
1. `go build && ./group-maker`
